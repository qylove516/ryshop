{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>new</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap-4-1-3.min.css' %}"
          crossorigin="anonymous">
    <link href="{% static 'css/fileinput.css' %}" media="all" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="{% static 'css/fontawesome-v5-5-0-all.css' %}" crossorigin="anonymous">
    <link href="{% static 'css/theme.css' %}" media="all" rel="stylesheet" type="text/css"/>
    <script src="{% static 'js/jquery-3.3.1.min.js' %}" crossorigin="anonymous"></script>
    <script src="{% static 'js/bootstrap.bundle.min.js' %}" crossorigin="anonymous"></script>
    <script src="{% static 'js/plugins/piexif.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/plugins/sortable.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/fileinput.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/locales/zh.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/theme.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/explorer-fas/theme.js' %}" type="text/javascript"></script>
</head>
<body>
<div>
{#    <form enctype="multipart/form-data">#}
        {% csrf_token %}
        <input id="file-3" type="file" multiple class="file-loading">
{#    </form>#}
</div>
<script>
    $("#file-3").fileinput({
        uploadUrl: "{% url 'bs4' %}",
        enctype: 'multipart/form-data',
        theme: 'fas', // 主题
        language: 'zh',  // 语言
        showUpload: true,  // 上传
        showCaption: true,
        showCancel: true,  // 取消
        // browseClass: "btn btn-primary btn-lg",
        fileType: "image",
        previewFileIcon: "<i class='glyphicon glyphicon-king'></i>",
        uploadAsync: false,
        layoutTemplates :{
            // actionDelete:'', //去除上传预览的缩略图中的删除图标
            actionUpload:'',//去除上传预览缩略图中的上传图片；
            actionZoom:''   //去除上传预览缩略图中的查看详情预览的缩略图标。
        },
        overwriteInitial: true,
        initialPreviewAsData: true,
        initialPreview: [],
        initialPreviewConfig: [
            {caption: "test_001.jpg", size: 329892, width: "120px", url: "{$url}", key: 1},
        ],
        uploadExtraData: {
            "csrfmiddlewaretoken": $("[name='csrfmiddlewaretoken']").val(),
        },
        slugCallback: function (filename) {
            return filename;
        }
    });
</script>
</body>
</html>